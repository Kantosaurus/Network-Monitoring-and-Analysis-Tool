@echo off
echo ========================================
echo WiFi Penetration Testing Server
echo ========================================
echo.
echo WARNING: For authorized security testing only!
echo Only use on networks you own or have written authorization to test.
echo.
echo Press Ctrl+C to cancel, or any key to continue...
pause >nul

cd /d "%~dp0..\backend\wifi_pentesting"

echo.
echo Setting environment variables...
set WIFI_PENTEST_ACKNOWLEDGED=1
set WIFI_INTERFACE=wlan0
set WIFI_MONITOR_INTERFACE=wlan0mon
set WORDLIST_DIR=/usr/share/wordlists
set HANDSHAKE_DIR=/tmp/handshakes

echo.
echo Installing dependencies...
pip install -r requirements.txt

echo.
echo ========================================
echo Starting WiFi Penetration Testing API
echo ========================================
echo.
echo Server will start on http://localhost:5001
echo API endpoints:
echo   - GET  /api/pentesting/health
echo   - POST /api/pentesting/scan
echo   - POST /api/pentesting/wps-attack
echo   - POST /api/pentesting/capture-handshake
echo   - POST /api/pentesting/crack-password
echo   - POST /api/pentesting/full-attack
echo.
echo Press Ctrl+C to stop the server
echo.

python pentesting_api.py

pause
